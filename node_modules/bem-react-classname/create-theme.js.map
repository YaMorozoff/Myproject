{"version":3,"sources":["create-theme.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAA0B;AAE1B,SAAgB,WAAW,CAAI,YAAe;IAC1C,IAAM,YAAY,GAAG,eAAK,CAAC,aAAa,CAAI,YAAY,CAAC,CAAC;IAE1D,SAAS,SAAS,CACd,SAAiC;QAEjC,IAAM,eAAe,GAAuC,UAAC,EAAY,EAAE,GAAG;gBAAf,sBAAQ;YAAY,OAAA,CAC/E,8BAAC,YAAY,CAAC,QAAQ,QAChB,UAAC,KAAK;gBACJ,IAAM,cAAc,yBACb,KAAK,KACR,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,IAAI,YAAY,GAC9C,CAAC;gBAEF,OAAO,CACH,8BAAC,SAAS,eAAM,cAAc,IAAG,GAAG,EAAG,GAAG,IAAK,CAClD,CAAC;YACN,CAAC,CACmB,CAC3B,CAAA;SAAA,CAAC;QAEF,eAAe,CAAC,WAAW,GAAE,sBAAmB,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,IAAI,OAAG,CAAC;QAC3F,IAAM,UAAU,GAAG,eAAK,CAAC,UAAU,CAAO,eAAe,CAAC,CAAC;QAE3D,OAAO,UAAmC,CAAC;IAC/C,CAAC;IAED,OAAO;QACH,aAAa,EAAE,YAAY,CAAC,QAAQ;QACpC,SAAS,WAAA;KACZ,CAAC;AACN,CAAC;AA/BD,kCA+BC","file":"create-theme.js","sourcesContent":["import React from 'react';\n\nexport function createTheme<T>(defaultTheme: T) {\n    const ThemeContext = React.createContext<T>(defaultTheme);\n\n    function withTheme<P extends { theme?: T }, U extends React.ReactNode>(\n        Component: React.ComponentType<P>,\n    ) {\n        const ThemedComponent: React.RefForwardingComponent<U, P> = ({ ...props }, ref) => (\n            <ThemeContext.Consumer>\n                { (state) => {\n                    const propsWithTheme = {\n                        ...props,\n                        theme: props.theme || state || defaultTheme,\n                    };\n\n                    return (\n                        <Component { ...propsWithTheme } ref={ ref } />\n                    );\n                } }\n            </ThemeContext.Consumer>\n        );\n        \n        ThemedComponent.displayName =`ThemedComponent(${Component.displayName || Component.name})`;\n        const ForwardRef = React.forwardRef<U, P>(ThemedComponent);\n\n        return ForwardRef as typeof ForwardRef & U;\n    }\n\n    return {\n        ThemeProvider: ThemeContext.Provider,\n        withTheme,\n    };\n}\n"]}