{"version":3,"sources":["calendar/calendar.tsx"],"names":[],"mappings":"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","file":"calendar.js","sourcesContent":["/* eslint-disable jsx-a11y/control-has-associated-label */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\nimport React from 'react';\n\nimport { createCn } from 'bem-react-classname';\n\nimport differenceInMonths from 'date-fns/difference_in_months';\nimport differenceInMilliseconds from 'date-fns/difference_in_milliseconds';\nimport startOfDay from 'date-fns/start_of_day';\nimport startOfMonth from 'date-fns/start_of_month';\nimport addDays from 'date-fns/add_days';\nimport addYears from 'date-fns/add_years';\nimport subtractYears from 'date-fns/sub_years';\nimport formatDate from 'date-fns/format';\nimport isSameMonth from 'date-fns/is_same_month';\nimport setMonth from 'date-fns/set_month';\nimport setYear from 'date-fns/set_year';\nimport endOfMonth from 'date-fns/end_of_month';\nimport eachDay from 'date-fns/each_day';\nimport sortedIndexOf from 'lodash.sortedindexof';\n\nimport keyboardCode from '../lib/keyboard-code';\nimport performance from '../performance';\nimport { isCurrentDay, getYearsRange } from './utils';\nimport { normalizeDate, getRussianWeekDay } from '../lib/date-utils';\nimport { isNodeOutsideElement } from '../lib/window';\nimport { withTheme } from '../cn';\n\nconst DAYS_IN_WEEK = 7;\nconst EARLY_YEARS_LIMIT = 100;\nconst LATER_YEARS_LIMIT = 1;\nconst TOTAL_WEEK_NUMBER = 6;\nconst SUNDAY_INDEX = 6;\n\nexport type CalendarProps = {\n\n    /**\n     * Выбранная дата, в формате unix timestamp\n     */\n    value?: number;\n\n    /**\n     * Левая граница диапазона дат, в формате unix timestamp\n     */\n    selectedFrom?: number;\n\n    /**\n     * Правая граница диапазона дат, в формате unix timestamp\n     */\n    selectedTo?: number;\n\n    /**\n     * Левая граница дат, возможных для выбора, в формате unix timestamp\n     */\n    earlierLimit?: number;\n\n    /**\n     * Правая граница дат, возможных для выбора, в формате unix timestamp\n     */\n    laterLimit?: number;\n\n    /**\n     * Месяц, в формате unix timestamp\n     */\n    month?: number;\n\n    /**\n     * Обработчик смены даты\n     */\n    onValueChange?: (timestamp?: number, dateString?: string, isTriggeredByKeyboard?: boolean) => void;\n\n    /**\n     * Обработчик смены месяца\n     */\n    onMonthChange?: (month?: number) => void;\n\n    /**\n     * Тип форматирования даты при выводе\n     */\n    outputFormat?: string;\n\n    /**\n     * Список названий месяцев\n     */\n    months?: readonly string[];\n\n    /**\n     * Список названий дней недели\n     */\n    weekdays?: readonly string[];\n\n    /**\n     * Список выходных дней в виде unix timestamp, отсортированный по возрастанию\n     */\n    offDays?: readonly number[];\n\n    /**\n     * Список дней с событиями в виде unix timestamp, отсортированный по возрастанию\n     */\n    eventDays?: readonly number[];\n\n    /**\n     * Отображение текущей даты\n     */\n    showToday?: boolean;\n\n    /**\n     * Отображение стрелок навигации по месяцам\n     */\n    showArrows?: boolean;\n\n    /**\n     * Возможность управления календарём с клавиатуры\n     */\n    isKeyboard?: boolean;\n\n    /**\n     * Управление шириной календаря. При значении 'available' растягивает кнопку на ширину родителя\n     */\n    width?: 'default' | 'available';\n\n    /**\n     * Тема компонента\n     */\n    theme?: 'alfa-on-color' | 'alfa-on-white';\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n\n    /**\n     * Идентификатор компонента в DOM\n     */\n    id?: string;\n\n    /**\n     * Обработчик события нажатия на клавишу клавиатуры в момент, когда фокус находится на компоненте\n     */\n    onKeyDown?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик события отжатия на клавишу клавиатуры в момент, когда фокус находится на компоненте\n     */\n    onKeyUp?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик фокуса\n     */\n    onFocus?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик снятия фокуса\n     */\n    onBlur?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Идентификатор для систем автоматизированного тестирования\n     */\n    'data-test-id'?: string;\n\n};\n\ntype CalendarState = {\n    isMonthSelection?: boolean;\n    isYearSelection?: boolean;\n    month: Date | number;\n}\n/**\n * Компонент календаря.\n */\n@performance(true)\nexport class Calendar extends React.Component<CalendarProps, CalendarState> {\n    protected cn = createCn('calendar');\n\n    static defaultProps: Partial<CalendarProps> = {\n        selectedFrom: null,\n        selectedTo: null,\n        outputFormat: 'DD.MM.YYYY',\n        weekdays: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'],\n        months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь',\n            'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n        offDays: [],\n        eventDays: [],\n        showToday: false,\n        showArrows: true,\n        isKeyboard: true,\n    };\n\n    state: CalendarState = {\n        month: startOfMonth(new Date()),\n    };\n\n    private root: HTMLDivElement;\n\n    private blurTimeoutId: number = null;\n\n    private years = [];\n\n    private earlierLimit: Date;\n\n    private laterLimit: Date;\n\n    private value: Date;\n\n    private selectedTo: Date;\n\n    private selectedFrom: Date;\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillMount() {\n        this.prepareData();\n    }\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        this.prepareData(nextProps);\n    }\n\n    componentWillUnmount() {\n        if (this.blurTimeoutId) {\n            clearTimeout(this.blurTimeoutId);\n            this.blurTimeoutId = null;\n        }\n    }\n\n    render() {\n        return (\n            <div\n                ref={ (root) => {\n                    this.root = root;\n                } }\n                className={ this.cn({ width: this.props.width }) }\n                id={ this.props.id }\n                role=\"grid\"\n                tabIndex={ 0 }\n                onBlur={ this.handleBlur }\n                onFocus={ this.handleFocus }\n                onKeyDown={ this.props.isKeyboard && this.handleKeyDown }\n                onKeyUp={ this.props.isKeyboard && this.handleKeyUp }\n                data-test-id={ this.props['data-test-id'] }\n            >\n                { this.renderTitle() }\n                { this.renderContent() }\n            </div>\n        );\n    }\n\n    renderTitle() {\n        const month = new Date(this.state.month);\n        const isPrevMonthEnabled = !this.earlierLimit\n            || differenceInMonths(month, startOfMonth(this.earlierLimit)) > 0;\n        const isNextMonthEnabled = !this.laterLimit\n            || differenceInMonths(month, this.laterLimit) < 0;\n        const areArrowsVisible = this.props.showArrows\n            && !this.state.isMonthSelection\n            && !this.state.isYearSelection;\n\n        return (\n            <div className={ this.cn('title') }>\n                {\n                    areArrowsVisible && (\n                        <div\n                            className={\n                                this.cn('arrow', {\n                                    direction: 'left',\n                                    disabled: !isPrevMonthEnabled,\n                                })\n                            }\n                            data-step=\"-1\"\n                            data-disabled={ !isPrevMonthEnabled }\n                            role=\"button\"\n                            tabIndex={ 0 }\n                            onClick={ this.handleArrowClick }\n                        />\n                    )\n                }\n                {\n                    areArrowsVisible && (\n                        <div\n                            className={\n                                this.cn('arrow', {\n                                    direction: 'right',\n                                    disabled: !isNextMonthEnabled,\n                                })\n                            }\n                            data-step=\"1\"\n                            data-disabled={ !isNextMonthEnabled }\n                            role=\"button\"\n                            tabIndex={ 0 }\n                            onClick={ this.handleArrowClick }\n                        />\n                    )\n                }\n                <div className={ this.cn('select-buttons') }>\n\n                    <div\n                        className={\n                            this.cn('name', {\n                                month: true,\n                            })\n                        }\n                        role=\"button\"\n                        tabIndex={ 0 }\n                        onClick={ this.handleMonthClick }\n                    >\n                        <div className={ this.cn('select-text') }>\n                            { this.props.months[month.getMonth()] }\n                        </div>\n                        <div className={ this.cn('select-arrows') } />\n                    </div>\n\n                    <div\n                        className={\n                            this.cn('name', {\n                                year: true,\n                            })\n                        }\n                        role=\"button\"\n                        tabIndex={ 0 }\n                        onClick={ this.handleYearClick }\n                    >\n                        <div className={ this.cn('select-text') }>{ `${month.getFullYear()}` }</div>\n                        <div className={ this.cn('select-arrows') } />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private handleMonthClick = () => {\n        this.setState({\n            // eslint-disable-next-line react/no-access-state-in-setstate\n            isMonthSelection: !this.state.isMonthSelection,\n            isYearSelection: false,\n        });\n    };\n\n    private handleYearClick = () => {\n        this.setState({\n            isMonthSelection: false,\n            // eslint-disable-next-line react/no-access-state-in-setstate\n            isYearSelection: !this.state.isYearSelection,\n        });\n    };\n\n    renderContent() {\n        return (\n            <React.Fragment>\n                { this.state.isMonthSelection ? this.renderMonths() : null }\n                { this.state.isYearSelection ? this.renderYears() : null }\n                { this.renderDays() }\n            </React.Fragment>\n        );\n    }\n\n    renderMonths() {\n        return (\n            <div className={ this.cn('wrapper') }>\n                <div className={ this.cn('months') }>\n                    {\n                        this.props.months.map((month, index) => {\n                            const monthStart = startOfMonth(setMonth(this.state.month, index));\n                            const monthEnd = endOfMonth(monthStart);\n                            const allMonthDays = eachDay(monthStart, monthEnd);\n                            const off = !allMonthDays.find((day) => this.isValidDate(day));\n                            const selectedDate = new Date(this.state.month);\n                            const isSameMonth = selectedDate\n                                && selectedDate.getMonth() === monthStart.getMonth();\n\n                            const dataMonth = off ? null : monthStart.getTime();\n\n                            const mods = {\n                                type: off ? 'off' : null,\n                                state: isSameMonth ? 'current' : null,\n                            };\n\n                            return (\n                                <div\n                                    className={ this.cn('select', { month: true, ...mods }) }\n                                    key={ `month_${index + 1}` }\n                                    role=\"gridcell\"\n                                    tabIndex={ 0 }\n                                    data-month={ dataMonth }\n                                    onClick={ this.handleSelectMonthClick }\n                                >\n                                    { month }\n                                </div>\n                            );\n                        })\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private handleSelectMonthClick = (event) => {\n        const newMonth = event.target.attributes['data-month'];\n\n        if (newMonth) {\n            const monthTimestamp = parseInt(newMonth.nodeValue, 10);\n\n            if (this.props.onMonthChange) {\n                this.props.onMonthChange(monthTimestamp);\n            } else {\n                this.setState({\n                    month: monthTimestamp,\n                });\n            }\n\n            this.setState({\n                isMonthSelection: false,\n            });\n\n            this.root.focus();\n        }\n    };\n\n    renderYears() {\n        return (\n            <div className={ this.cn('wrapper') }>\n                <div className={ this.cn('years') }>\n                    {\n                        this.years.map((year, index) => {\n                            const newYear = setYear(this.state.month, year);\n                            const dataYear = newYear.getTime();\n                            const selectedDate = new Date(this.state.month);\n                            const isSameYear = selectedDate\n                                && selectedDate.getFullYear() === newYear.getFullYear();\n\n                            const mods = {\n                                state: isSameYear ? 'current' : null,\n                            };\n\n                            return (\n                                <div\n                                    className={ this.cn('select', { year: true, ...mods }) }\n                                    key={ `year_${index + 1}` }\n                                    role=\"gridcell\"\n                                    tabIndex={ 0 }\n                                    data-year={ dataYear }\n                                    onClick={ this.handleSelectYearClick }\n                                >\n                                    { year }\n                                </div>\n                            );\n                        })\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private handleSelectYearClick = (event) => {\n        const newYear = event.target.attributes['data-year'];\n\n        if (newYear) {\n            const yearTimestamp = parseInt(newYear.nodeValue, 10);\n\n            if (this.props.onMonthChange) {\n                this.props.onMonthChange(yearTimestamp);\n            } else {\n                this.setState({\n                    month: yearTimestamp,\n                });\n            }\n\n            this.setState({\n                isYearSelection: false,\n            });\n\n            this.root.focus();\n        }\n    };\n\n    renderDays() {\n        const rows = [\n            this.renderShortWeekdays(),\n            ...this.renderMonth(),\n        ];\n\n        return (\n            <table className={ this.cn('layout') }>\n                <tbody>\n                    {\n                        rows.map((row, index) => (\n                            <tr\n                                className={ this.cn('row') }\n                                key={ `row_${index + 1}` }\n                            >\n                                { row }\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        );\n    }\n\n    renderShortWeekdays() {\n        return this.props.weekdays.map((weekdayName, index) => (\n            <th\n                className={ this.cn('dayname', { type: index > 4 ? 'weekend' : false }) }\n                key={ weekdayName }\n            >\n                { weekdayName }\n            </th>\n        ));\n    }\n\n    renderMonth() {\n        return this.calculateWeeks().map((week) => this.renderWeek(week));\n    }\n\n    renderWeek(week) {\n        return week.map((day, index) => {\n            const off = !this.isValidDate(day) || this.isOffDay(day);\n            const event = this.isEventDay(day);\n            const current = isCurrentDay(day);\n            const val = this.value;\n            const weekend = index > 4;\n            const mods: {\n                type?: 'weekend-off' | 'weekend' | 'off';\n                event?: boolean;\n                state?: 'today' | 'current';\n                empty?: boolean;\n            } = {};\n\n            if (day) {\n                const isSameDate = val && val.getTime() === day.getTime();\n                const isBetweenPeriod = this.selectedFrom && this.selectedTo\n                    && this.selectedFrom <= day && this.selectedTo >= day;\n\n                if (off || weekend) {\n                    if (weekend) {\n                        mods.type = off ? 'weekend-off' : 'weekend';\n                    } else {\n                        mods.type = 'off';\n                    }\n                }\n\n                mods.event = event;\n\n                if (current && this.props.showToday) {\n                    mods.state = 'today';\n                }\n\n                if (isSameDate || isBetweenPeriod) {\n                    mods.state = 'current';\n                }\n            } else {\n                mods.empty = true;\n            }\n\n            const dataDay = day && !off\n                ? day.getTime()\n                : null;\n\n            return (\n                <td\n                    key={ day || `day_${index + 1}` }\n                >\n                    <div\n                        className={ this.cn('day', mods) }\n                        role=\"gridcell\"\n                        tabIndex={ 0 }\n                        data-day={ dataDay }\n                        onClick={ this.handleDayClick }\n                    >\n                        { day ? day.getDate() : '' }\n                        { mods.event && (\n                            <span data-day={ dataDay } className={ this.cn('event') } />\n                        ) }\n                    </div>\n                </td>\n            );\n        });\n    }\n\n    private handleDayClick = (event) => {\n        const day = event.target.attributes['data-day'];\n\n        if (day) {\n            this.performChange(parseInt(day.nodeValue, 10));\n        }\n    };\n\n    private handleFocus = (event) => {\n        if (this.blurTimeoutId) {\n            clearTimeout(this.blurTimeoutId);\n            this.blurTimeoutId = null;\n        }\n\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    };\n\n    private handleBlur = (event) => {\n        event.persist();\n        if (this.blurTimeoutId) {\n            clearTimeout(this.blurTimeoutId);\n        }\n\n        this.blurTimeoutId = window.setTimeout(() => {\n            if (isNodeOutsideElement(document.activeElement, this.root) && this.props.onBlur) {\n                this.props.onBlur(event);\n            }\n            this.blurTimeoutId = null;\n        }, 0);\n    };\n\n    private handleArrowClick = (event) => {\n        if (event.currentTarget.attributes['data-disabled'].nodeValue === 'true') {\n            return;\n        }\n\n        const stepSize = event.currentTarget.attributes['data-step'].nodeValue;\n        const step = parseInt(stepSize, 10);\n        const newMonth = new Date(this.state.month);\n\n        newMonth.setMonth(newMonth.getMonth() + step);\n\n        if (this.props.onMonthChange) {\n            this.props.onMonthChange(newMonth.valueOf());\n        } else {\n            this.setState({\n                month: newMonth.valueOf(),\n            });\n        }\n    };\n\n    private handleKeyDown = (event) => {\n        switch (event.which) {\n        case keyboardCode.DOWN_ARROW: {\n            event.preventDefault();\n            this.performChangeWithShift(7, true);\n            break;\n        }\n        case keyboardCode.UP_ARROW:\n            event.preventDefault();\n            this.performChangeWithShift(-7, true);\n            break;\n        case keyboardCode.LEFT_ARROW: {\n            event.preventDefault();\n            this.performChangeWithShift(-1, true);\n            break;\n        }\n        case keyboardCode.RIGHT_ARROW: {\n            event.preventDefault();\n            this.performChangeWithShift(1, true);\n            break;\n        }\n        }\n\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(event);\n        }\n    };\n\n    private handleKeyUp = (event) => {\n        if (this.props.onKeyUp) {\n            this.props.onKeyUp(event);\n        }\n    };\n\n    /**\n     * Устанавливает фокус на календарь.\n     */\n    public focus() {\n        this.root.focus();\n    }\n\n    /**\n     * Убирает фокус с календаря.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    public blur() {\n        if (document.activeElement) {\n            (document.activeElement as HTMLElement).blur();\n        }\n    }\n\n    /**\n     * Возвращает корневой `HTMLElement` компонента.\n     */\n    public getNode() {\n        return this.root;\n    }\n\n    /**\n     * Возвращает `true`, если переданная дата является валидной и\n     * попадает в заданные лимиты календаря.\n     *\n     * @param value Дата для проверки\n     */\n    private isValidDate(value: Date | number) {\n        if (!value) {\n            return false;\n        }\n\n        /* eslint-disable no-restricted-globals */\n        if (!(value instanceof Date) || !isFinite(value.valueOf())) {\n            return false;\n        }\n        /* eslint-enable no-restricted-globals */\n\n        return !(\n            (this.earlierLimit && this.earlierLimit > value)\n            || (this.laterLimit && this.laterLimit < value)\n        );\n    }\n\n    /**\n     * Возвращает `true`, если переданная дата является выходным днем.\n     *\n     * @param date Дата для проверки\n     */\n    private isOffDay(date: Date | number) {\n        if (this.props.offDays && Array.isArray(this.props.offDays)) {\n            const timestamp = date.valueOf();\n\n            // Поскольку offDays - отсортирован, используем бинарный поиск, O(log n) против O(n) для обычного поиска\n            return sortedIndexOf(this.props.offDays, timestamp) !== -1;\n        }\n\n        return false;\n    }\n\n    /**\n     * Возвращает `true`, если переданная дата является днм с событиями.\n     *\n     * @param date Дата для проверки\n     */\n    private isEventDay(date: Date | number) {\n        if (this.props.eventDays && Array.isArray(this.props.eventDays) && date !== null) {\n            const timestamp = date.valueOf();\n\n            // Поскольку events - отсортирован, используем бинарный поиск, O(log n) против O(n) для обычного поиска\n            return sortedIndexOf(this.props.eventDays, timestamp) !== -1;\n        }\n\n        return false;\n    }\n\n    /**\n     * Генерирует событие, что значие даты изменилось.\n     *\n     * @param timestamp Дата\n     * @param isTriggeredByKeyboard Флаг, что событие\n     * произошло из-за нажатия пользователем кнопки на клавиатуре\n     */\n    private performChange(timestamp: number | Date, isTriggeredByKeyboard = false) {\n        if (!this.props.onValueChange) {\n            return;\n        }\n\n        const date = new Date(timestamp);\n\n        if (!this.isValidDate(date) || this.isOffDay(date)) {\n            return;\n        }\n\n        this.props.onValueChange(\n            timestamp.valueOf(),\n            formatDate(date, this.props.outputFormat),\n            isTriggeredByKeyboard,\n        );\n    }\n\n    /**\n     * Генерирует событие, что значение даты изменилось на переданной число дней.\n     *\n     * @param dayShift Смещение текущей даты в днях.\n     * @param isTriggeredByKeyboard Флаг, что событие\n     * произошло из-за нажатия пользователем кнопки на клавиатуре\n     */\n    private performChangeWithShift(dayShift: number, isTriggeredByKeyboard: boolean) {\n        if (!this.ensureValueInLimits(dayShift)) {\n            return;\n        }\n\n        while (this.isOffDay(addDays(this.value, dayShift))) {\n            dayShift += Math.abs(dayShift) / dayShift;\n        }\n\n        if (this.value) {\n            const shiftedValue = addDays(this.value, dayShift);\n\n            this.performChange(shiftedValue.valueOf(), isTriggeredByKeyboard);\n\n            if (this.props.onMonthChange && !isSameMonth(shiftedValue, this.value)) {\n                this.props.onMonthChange(shiftedValue.valueOf());\n            }\n        } else {\n            this.performChange(this.state.month, true);\n        }\n    }\n\n    private ensureValueInLimits(dayShift) {\n        const shiftedDay = addDays(this.value, dayShift);\n\n        return (!this.earlierLimit || differenceInMilliseconds(shiftedDay, this.earlierLimit) >= 0)\n            && (!this.laterLimit || differenceInMilliseconds(shiftedDay, this.laterLimit) <= 0);\n    }\n\n    private calculateWeeks() {\n        let weekDay: number;\n        let weekCounter = TOTAL_WEEK_NUMBER;\n        const weeks = [];\n        const lastDay = SUNDAY_INDEX;\n        const currentMonth = new Date(this.state.month).getMonth();\n        const dateIterator = new Date(this.state.month);\n\n        // Далее я использую map для обхода массива, но при создании через new Array(DAYS_IN_WEEK);\n        // map не вызывает колбек, для ключей, к которым не были приассигнены значения\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n        // соответственно пропадают undefined значения, поэтому:\n        let week = (new Array(DAYS_IN_WEEK)).fill(null);\n\n        dateIterator.setDate(1);\n\n        while (weekCounter > 0) {\n            weekDay = getRussianWeekDay(dateIterator); // Получаем 0 - пн, 1 - вт, и т.д.\n\n            if (dateIterator.getMonth() === currentMonth) {\n                week[weekDay] = new Date(dateIterator.getTime());\n            }\n\n            if (weekDay === lastDay) {\n                weeks.push(week);\n                weekCounter -= 1;\n                week = (new Array(DAYS_IN_WEEK)).fill(null);\n            }\n\n            dateIterator.setDate(dateIterator.getDate() + 1);\n        }\n\n        if (weekDay !== lastDay) {\n            weeks.push(week);\n        }\n\n        return weeks;\n    }\n\n    private prepareData(nextProps?) {\n        let isInitializing = false;\n\n        if (!nextProps) {\n            nextProps = this.props;\n            isInitializing = true;\n        }\n\n        if (isInitializing || this.props.value !== nextProps.value) {\n            if (nextProps.value) {\n                this.value = startOfDay(normalizeDate(nextProps.value));\n            } else {\n                this.value = null;\n            }\n        }\n\n        let month;\n\n        if (nextProps.month) {\n            month = normalizeDate(nextProps.month);\n        } else if (this.value) {\n            month = new Date(this.value.valueOf());\n        } else {\n            month = new Date();\n        }\n\n        this.setState({\n            month: startOfMonth(month),\n        });\n\n        if (isInitializing || this.props.earlierLimit !== nextProps.earlierLimit) {\n            if (nextProps.earlierLimit) {\n                this.earlierLimit = normalizeDate(nextProps.earlierLimit);\n            } else {\n                this.earlierLimit = subtractYears(new Date(), EARLY_YEARS_LIMIT);\n            }\n\n            this.earlierLimit = startOfDay(this.earlierLimit);\n            if (this.value) {\n                const maxTimestamp = Math.max(\n                    this.value.valueOf(),\n                    this.earlierLimit.valueOf(),\n                );\n\n                this.value = new Date(maxTimestamp);\n            }\n        }\n\n        if (isInitializing || this.props.laterLimit !== nextProps.laterLimit) {\n            if (nextProps.laterLimit) {\n                this.laterLimit = normalizeDate(nextProps.laterLimit);\n            } else {\n                this.laterLimit = addYears(new Date(), LATER_YEARS_LIMIT);\n            }\n\n            this.laterLimit = startOfDay(this.laterLimit);\n            if (this.value) {\n                const minTimestamp = Math.min(\n                    this.value.valueOf(),\n                    this.laterLimit.valueOf(),\n                );\n\n                this.value = new Date(minTimestamp);\n            }\n        }\n\n        this.years = getYearsRange(this.earlierLimit, this.laterLimit);\n\n        if (isInitializing || this.props.selectedTo !== nextProps.selectedTo) {\n            this.selectedTo = nextProps.selectedTo ? normalizeDate(nextProps.selectedTo) : null;\n        }\n\n        if (isInitializing || this.props.selectedFrom !== nextProps.selectedFrom) {\n            this.selectedFrom = nextProps.selectedFrom\n                ? normalizeDate(nextProps.selectedFrom) : null;\n        }\n    }\n}\n\nexport default withTheme<CalendarProps, Calendar>(Calendar);\n"]}