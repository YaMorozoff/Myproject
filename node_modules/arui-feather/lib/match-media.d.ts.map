{"version":3,"sources":["lib/match-media.ts"],"names":[],"mappings":"AAKA;;;;GAIG;AACH,wBAAgB,aAAa,CAAC,SAAS,EAAE,MAAM,GAAG,cAAc,CAW/D;AAED;;;;GAIG;AACH,wBAAgB,iBAAiB,CAAC,SAAS,EAAE,MAAM,GAAG,IAAI,CASzD","file":"match-media.d.ts","sourcesContent":["import MqList from '../mq/mq.json';\n\nconst pool = {};\nconst refCounters = {};\n\n/**\n * Возвращает MediaQueryList для заданного media-выражения.\n *\n * @param queryProp media выражение или кастомные запросы из `src/mq/mq.json`, например `--small`.\n */\nexport function getMatchMedia(queryProp: string): MediaQueryList {\n    const query = MqList[queryProp] || queryProp;\n\n    if (pool[query]) {\n        refCounters[query] += 1;\n    } else {\n        pool[query] = window.matchMedia(query);\n        refCounters[query] = 1;\n    }\n\n    return pool[query];\n}\n\n/**\n * Удаляет MediaQueryList.\n *\n * @param queryProp media выражение\n */\nexport function releaseMatchMedia(queryProp: string): void {\n    const query = MqList[queryProp] || queryProp;\n\n    refCounters[query] -= 1;\n\n    if (pool[query] && refCounters[query] === 0) {\n        delete pool[query];\n        delete refCounters[query];\n    }\n}\n"]}