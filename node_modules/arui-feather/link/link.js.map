{"version":3,"sources":["link/link.tsx"],"names":[],"mappings":"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","file":"link.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport React from 'react';\nimport { createCn } from 'bem-react-classname';\nimport { withTheme } from '../cn';\n\nexport type LinkProps = {\n\n    /**\n     * Иконка ссылки\n     */\n    icon?: React.ReactNode;\n\n    /**\n     * Позиционирование иконки в ссылке\n     */\n    iconPosition?: 'left' | 'right';\n\n    /**\n     * Текст ссылки\n     */\n    text?: React.ReactNode;\n\n    /**\n     * href ссылки\n     */\n    url?: string;\n\n    /**\n     * Указание на загрузку, вместо открытия и указание имени файла\n     */\n    download?: string | boolean;\n\n    /**\n     * target ссылки\n     */\n    target?: '_self' | '_blank' | '_parent' | '_top';\n\n    /**\n     * Последовательность перехода между контролами при нажатии на Tab\n     */\n    tabIndex?: number;\n\n    /**\n     * Управление возможностью клика по ссылке\n     */\n    disabled?: boolean;\n\n    /**\n     * Управление состоянием ссылки выбран/не выбран\n     */\n    checked?: boolean;\n\n    /**\n     * Псевдо-ссылка (border-bottom: dashed)\n     */\n    pseudo?: boolean;\n\n    /**\n     * Тип ссылки\n     */\n    view?: 'default' | 'blue';\n\n    /**\n     * Размер компонента\n     */\n    size?: 'xs' | 's' | 'm' | 'l' | 'xl';\n\n    /**\n     * Дочерние элементы `Link`\n     */\n    children?: React.ReactNode;\n\n    /**\n     * Тема компонента\n     */\n    theme?: 'alfa-on-color' | 'alfa-on-white';\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n\n    /**\n     * Идентификатор компонента в DOM\n     */\n    id?: string;\n\n    /**\n     * Обработчик клика но ссылке\n     */\n    onClick?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Обработчик фокуса компонента\n     */\n    onFocus?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик снятия фокуса компонента\n     */\n    onBlur?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик события наведения курсора на ссылку\n     */\n    onMouseEnter?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Обработчик события снятия курсора с ссылки\n     */\n    onMouseLeave?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Обработчик клика по disabled ссылке\n     */\n    onDisabledClick?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Идентификатор для систем автоматизированного тестирования\n     */\n    'data-test-id'?: string;\n};\n\n/**\n * Компонент ссылки.\n */\nexport class Link extends React.PureComponent<LinkProps> {\n    protected cn = createCn('link');\n\n    static defaultProps: Partial<LinkProps> = {\n        iconPosition: 'left',\n        size: 'm',\n        url: '#',\n        tabIndex: 0,\n        disabled: false,\n        checked: false,\n        pseudo: false,\n    };\n\n    state = {\n        hovered: false,\n        focused: false,\n    };\n\n    private root: HTMLElement;\n\n    render() {\n        const linkElement = this.props.checked || this.props.disabled ? 'span' : 'a';\n        const { iconPosition } = this.props;\n\n        const linkProps: React.AnchorHTMLAttributes<HTMLAnchorElement> & React.ClassAttributes<HTMLAnchorElement> = {\n            ref: (root) => {\n                this.root = root;\n            },\n            download: this.props.download,\n            className: this.cn({\n                disabled: this.props.disabled,\n                checked: this.props.checked,\n                pseudo: this.props.pseudo,\n                view: this.props.view,\n                size: this.props.size,\n                focused: this.state.focused,\n                hovered: this.state.hovered,\n                flex: this.props.icon && iconPosition === 'left',\n            }),\n            id: this.props.id,\n            tabIndex: this.props.tabIndex,\n            onClick: this.handleClick,\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n        };\n\n        if (this.props.target === '_blank') {\n            linkProps.rel = 'noreferrer noopener';\n        }\n\n        if (!this.props.checked && !this.props.disabled) {\n            linkProps.href = this.props.url;\n            linkProps.target = this.props.target;\n        }\n\n        const linkContent = [this.props.children];\n        const iconTemplate = this.props.icon && (\n            <span key=\"icon\" className={ this.cn('icon', { left: iconPosition === 'left' }) }>\n                { this.props.icon }\n            </span>\n        );\n\n        const textTemplate = this.props.text && (\n            <span key=\"text\" className={ this.cn('text-container') }>\n                <span className={ this.cn('text') }>{ this.props.text }</span>\n            </span>\n        );\n\n        if (iconPosition === 'left') {\n            linkContent.push(iconTemplate, textTemplate);\n        }\n        if (iconPosition === 'right') {\n            linkContent.push(textTemplate, iconTemplate);\n        }\n\n        return React.createElement(linkElement, {\n            ...linkProps,\n            'data-test-id': this.props['data-test-id'],\n        }, linkContent);\n    }\n\n    private handleClick = (event) => {\n        if (this.props.pseudo) {\n            event.preventDefault();\n        }\n        if (!this.props.disabled && this.props.onClick) {\n            this.props.onClick(event);\n        }\n\n        if (this.props.disabled && this.props.onDisabledClick) {\n            this.props.onDisabledClick(event);\n        }\n    };\n\n    private handleFocus = (event) => {\n        this.setState({ focused: true });\n\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    };\n\n    private handleBlur = (event) => {\n        this.setState({ focused: false });\n\n        if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n    };\n\n    private handleMouseEnter = (event) => {\n        this.setState({ hovered: true });\n\n        if (this.props.onMouseEnter) {\n            this.props.onMouseEnter(event);\n        }\n    };\n\n    handleMouseLeave = (event) => {\n        this.setState({ hovered: false });\n\n        if (this.props.onMouseLeave) {\n            this.props.onMouseLeave(event);\n        }\n    };\n\n    /**\n     * Возвращает корневой `HTMLElement` компонента.\n     */\n    public getNode() {\n        return this.root;\n    }\n\n    /**\n     * Ставит фокус на ссылку.\n     */\n    public focus() {\n        this.root.focus();\n    }\n\n    /**\n     * Убирает фокус с ссылки.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    public blur() {\n        if (document.activeElement instanceof HTMLElement) {\n            document.activeElement.blur();\n        }\n    }\n}\n\nexport default withTheme<LinkProps, Link>(Link);\n"]}