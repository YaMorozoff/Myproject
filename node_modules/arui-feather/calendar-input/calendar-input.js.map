{"version":3,"sources":["calendar-input/calendar-input.tsx"],"names":[],"mappings":"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","file":"calendar-input.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/* eslint-disable max-len */\n\nimport React from 'react';\nimport formatDate from 'date-fns/format';\nimport { createCn } from 'bem-react-classname';\nimport { withTheme } from '../cn';\n\nimport Calendar, { CalendarProps } from '../calendar/calendar';\nimport IconCalendar from '../icon/entity/calendar';\nimport IconButton from '../icon-button/icon-button';\nimport Input from '../input/input';\nimport Mq from '../mq/mq';\nimport Popup from '../popup/popup';\nimport PopupHeader from '../popup-header/popup-header';\n\nimport keyboardCode from '../lib/keyboard-code';\nimport { isNodeOutsideElement } from '../lib/window';\nimport {\n    parseDate, calculateMonth, changeDateFormat, isInputDateSupported,\n} from './utils';\nimport performance from '../performance';\n\n/**\n * NB: В нативном календаре нельзя менять формат даты. Приемлем только YYYY-MM-DD формат.\n * https://www.w3.org/TR/html-markup/input.date.html#input.date.attrs.value\n * https://tools.ietf.org/html/rfc3339#section-5.6\n*/\nconst CUSTOM_DATE_FORMAT = 'DD.MM.YYYY';\nconst NATIVE_DATE_FORMAT = 'YYYY-MM-DD';\nconst IS_BROWSER = typeof window !== 'undefined';\nconst SUPPORTS_INPUT_TYPE_DATE = IS_BROWSER && isInputDateSupported();\n\nexport type CalendarInputProps = {\n\n    /**\n     * Содержимое поля ввода\n     */\n    value?: string;\n\n    /**\n     * Содержимое поля ввода, указанное по умолчанию\n     */\n    defaultValue?: string;\n\n    /**\n     * Дата для отображения календаря по умолчанию\n     */\n    defaultMonth?: string | number | any;\n\n    /**\n     * Свойства компонента [Calendar](#!/Calendar)\n     */\n    calendar?: CalendarProps;\n\n    /**\n     * Управление возможностью раскрытия календаря\n     */\n    opened?: boolean;\n\n    /**\n     * Тип инпута (filled только на белом фоне в размере m)\n     */\n    view?: 'default' | 'filled';\n\n    /**\n     * Управление возможностью компонента занимать всю ширину родителя\n     */\n    width?: 'default' | 'available';\n\n    /**\n     * Направления, в которые может открываться попап компонента\n     */\n    directions?: ReadonlyArray<'anchor' | 'top-left' | 'top-center' | 'top-right' | 'left-top' | 'left-center' | 'left-bottom' | 'right-top' | 'right-center' | 'right-bottom' | 'bottom-left' | 'bottom-center' | 'bottom-right'>;\n\n    /**\n     * Управление автозаполнением компонента\n     */\n    autocomplete?: boolean;\n\n    /**\n     * Управление возможностью изменения значения компонента\n     */\n    disabled?: boolean;\n\n    /**\n     * Размер компонента\n     */\n    size?: 's' | 'm' | 'l' | 'xl';\n\n    /**\n     * Последовательность перехода между контролами при нажатии на Tab\n     */\n    tabIndex?: number;\n\n    /**\n     * Добавление дополнительных элементов к инпуту слева\n     */\n    leftAddons?: React.ReactNode;\n\n    /**\n     * Добавление дополнительных элементов к инпуту справа\n     */\n    rightAddons?: React.ReactNode;\n\n    /**\n     * Управление рендером иконки календаря в инпуте\n     */\n    withIcon?: boolean;\n\n    /**\n     * Лейбл для поля\n     */\n    label?: React.ReactNode;\n\n    /**\n     * Подсказка в поле\n     */\n    placeholder?: string;\n\n    /**\n     * Подсказка под полем\n     */\n    hint?: React.ReactNode;\n\n    /**\n     * Отображение ошибки\n     */\n    error?: React.ReactNode;\n\n    /**\n     * Сброс ошибки при установке фокуса в компоненте Input\n     */\n    resetError?: boolean;\n\n    /**\n     * Управление нативным режимом на мобильных устройствах\n     */\n    mobileMode?: 'native' | 'popup' | 'input';\n\n    /**\n     * Подсказка над меню в мобильном режиме\n     */\n    mobileTitle?: React.ReactNode;\n\n    /**\n     * Идентификатор компонента в DOM\n     */\n    id?: string;\n\n    /**\n     * Имя компонента в DOM\n     */\n    name?: string;\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n\n    /**\n     * Тема компонента\n     */\n    theme?: 'alfa-on-color' | 'alfa-on-white';\n\n    /**\n     * Обработчик установки фокуса на компонент\n     */\n    onFocus?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик снятия фокуса с компонента\n     */\n    onBlur?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик установки фокуса на поле ввода\n     */\n    onInputFocus?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик снятия фокуса с поля ввода\n     */\n    onInputBlur?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик ввода даты в текстовом поле\n     */\n    onInputChange?: (value?: string) => void;\n\n    /**\n     * Обработчик выбора даты в календаре\n     */\n    onCalendarChange?: (formattedValue?: string) => void;\n\n    /**\n     * Обрабочик изменения даты в календаре\n     */\n    onChange?: (formattedValue?: string, value?: number) => void;\n\n    /**\n     * Обработчик события нажатия на клавишу в момент, когда фокус находится на компоненте\n     */\n    onKeyDown?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик события нажатия на клавишу клавиатуры в момент, когда фокус находится в календаре\n     */\n    onCalendarKeyDown?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик события нажатия на клавишу клавиатуры в момент, когда фокус находится на текстовом поле\n     */\n    onInputKeyDown?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Идентификатор для систем автоматизированного тестирования\n     */\n    'data-test-id'?: string;\n};\n\n/**\n * Компонент для ввода даты.\n */\n@performance(true)\nexport class CalendarInput extends React.Component<CalendarInputProps> {\n    protected cn = createCn('calendar-input');\n\n    static defaultProps: Partial<CalendarInputProps> = {\n        withIcon: true,\n        directions: ['bottom-left', 'bottom-right', 'top-left', 'top-right'],\n        placeholder: '00.00.0000',\n        mobileMode: 'native',\n    };\n\n    state = {\n        isMobile: false,\n        isInputFocused: false,\n        isCalendarFocused: false,\n        opened: false,\n        value: this.props.defaultValue || '',\n        month: calculateMonth(\n            this.props.value || this.props.defaultMonth,\n            CUSTOM_DATE_FORMAT,\n            this.props.calendar ? this.props.calendar.earlierLimit : undefined,\n            this.props.calendar ? this.props.calendar.laterLimit : undefined,\n        ),\n    };\n\n    private timeoutId;\n\n    private changeCloseTimeoutId;\n\n    /**\n     * @type {Calendar}\n     */\n    private calendar;\n\n    /**\n     * @type {Popup}\n     */\n    private calendarPopup;\n\n    /**\n     * @type {Input}\n     */\n    private customCalendarTarget;\n\n    private nativeCalendarTarget;\n\n    componentDidMount() {\n        if (this.calendarPopup) {\n            let element;\n\n            if (this.nativeCalendarTarget) {\n                element = this.nativeCalendarTarget;\n            } else if (this.customCalendarTarget) {\n                element = this.customCalendarTarget.getBoxNode();\n            }\n\n            if (element) {\n                this.calendarPopup.setTarget(element);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n        if (this.changeCloseTimeoutId) {\n            clearTimeout(this.changeCloseTimeoutId);\n            this.changeCloseTimeoutId = null;\n        }\n    }\n\n    render() {\n        const value = this.props.value === undefined ? this.state.value : this.props.value;\n\n        const commonProps = {\n            disabled: this.props.disabled,\n            tabIndex: this.props.tabIndex,\n            formNoValidate: true,\n        };\n\n        const nativeProps = {\n            min: this.props.calendar\n                && this.props.calendar.earlierLimit\n                && formatDate(this.props.calendar.earlierLimit, NATIVE_DATE_FORMAT),\n            max: this.props.calendar\n                && this.props.calendar.laterLimit\n                && formatDate(this.props.calendar.laterLimit, NATIVE_DATE_FORMAT),\n        };\n\n        const wrapperProps = this.isMobilePopup() && !this.props.disabled\n            ? {\n                role: 'button',\n                tabIndex: 0,\n                onClick: this.handleMobileWrapperClick,\n            }\n            : {};\n\n        return (\n            <span\n                className={ this.cn({ width: this.props.width }) }\n                data-test-id={ this.props['data-test-id'] }\n            >\n                <span\n                    { ...wrapperProps }\n                >\n                    <Mq\n                        query=\"--small-only\"\n                        touch={ true }\n                        onMatchChange={ this.handleMqMatchChange }\n                    >\n                        {\n                            this.canBeNative()\n                            && (\n                                <input\n                                    ref={ (nativeCalendarTarget) => {\n                                        this.nativeCalendarTarget = nativeCalendarTarget;\n                                    } }\n                                    { ...commonProps }\n                                    { ...nativeProps }\n                                    className={ this.cn('native-control') }\n                                    type=\"date\"\n                                    value={ changeDateFormat(value, CUSTOM_DATE_FORMAT, NATIVE_DATE_FORMAT) }\n                                    onBlur={ this.handleNativeInputBlur }\n                                    onChange={ this.handleNativeInputChange }\n                                    onFocus={ this.handleNativeInputFocus }\n                                />\n                            )\n                        }\n                    </Mq>\n                    <Input\n                        ref={ (customCalendarTarget) => {\n                            this.customCalendarTarget = customCalendarTarget;\n                        } }\n                        { ...commonProps }\n                        autocomplete={ this.props.autocomplete }\n                        className={ this.cn('custom-control') }\n                        disabledAttr={ this.isNativeInput() || this.isMobilePopup() }\n                        focused={ this.state.isInputFocused || this.state.isCalendarFocused }\n                        mask=\"11.11.1111\"\n                        size={ this.props.size }\n                        type=\"tel\"\n                        pattern=\"[0-9.]*\"\n                        label={ this.props.label }\n                        placeholder={ this.props.placeholder }\n                        hint={ this.props.hint }\n                        error={ this.props.error }\n                        resetError={ this.props.resetError }\n                        value={ value }\n                        view={ this.props.view }\n                        width={ this.props.width }\n                        id={ this.props.id }\n                        name={ this.props.name }\n                        leftAddons={ this.props.leftAddons }\n                        rightAddons={ this.props.rightAddons }\n                        onBlur={ this.handleCustomInputBlur }\n                        onChange={ this.handleCustomInputChange }\n                        onFocus={ this.handleCustomInputFocus }\n                        onKeyDown={ this.handleInputKeyDown }\n                        icon={\n                            this.props.withIcon\n                            && (\n                                <IconButton onClick={ this.handleIconButtonClick }>\n                                    <IconCalendar\n                                        size={ this.props.size }\n                                    />\n                                </IconButton>\n                            )\n                        }\n                    />\n                </span>\n                { this.renderPopup(value) }\n            </span>\n        );\n    }\n\n    renderPopup(value) {\n        let opened = this.props.opened === undefined ? this.state.opened : this.props.opened;\n\n        if (this.isSimpleInput()) {\n            opened = false;\n        }\n\n        return (\n            <Popup\n                ref={ (calendarPopup) => {\n                    this.calendarPopup = calendarPopup;\n                } }\n                for={ this.props.name }\n                visible={ opened }\n                directions={ this.props.directions }\n                target={ this.isMobilePopup() ? 'screen' : 'anchor' }\n                header={ this.isMobilePopup() && this.renderMobileHeader() }\n                padded={ false }\n            >\n                <div className={ this.cn('calendar-wrapper', { mobile: this.isMobilePopup() }) }>\n                    <Calendar\n                        ref={ (calendar) => {\n                            this.calendar = calendar;\n                        } }\n                        month={ this.state.month }\n                        { ...this.props.calendar }\n                        value={ parseDate(value, CUSTOM_DATE_FORMAT) }\n                        onBlur={ this.handleCalendarBlur }\n                        onFocus={ this.handleCalendarFocus }\n                        onKeyDown={ this.handleCalendarKeyDown }\n                        onValueChange={ this.handleCalendarChange }\n                        onMonthChange={ this.handleCalendarMonthChange }\n                    />\n                </div>\n            </Popup>\n        );\n    }\n\n    renderMobileHeader() {\n        return (\n            <PopupHeader\n                size={ this.props.size }\n                title={ this.props.mobileTitle || this.props.label || 'Выберите дату' }\n                onCloserClick={ this.handlePopupCloserClick }\n            />\n        );\n    }\n\n    private handleCalendarChange = (value, formatted, isTriggeredByKeyboard) => {\n        if (!isTriggeredByKeyboard) {\n            this.changeCloseTimeoutId = setTimeout(() => {\n                this.calendar.blur(); // FF не испускает событие `blur` когда элементы становятся невидимыми, делаем это явно\n                this.setState({\n                    opened: false,\n                });\n                this.changeCloseTimeoutId = null;\n            }, 0);\n        }\n\n        this.setState({ value: formatted });\n\n        if (this.props.onCalendarChange) {\n            this.props.onCalendarChange(formatted);\n        }\n\n        if (this.props.onChange) {\n            this.props.onChange(formatted, value);\n        }\n    };\n\n    private handleCalendarMonthChange = (month) => {\n        this.setState({\n            month,\n        });\n    };\n\n    private handleCalendarFocus = (event) => {\n        this.changeFocused({ isCalendarFocused: true }, event);\n    };\n\n    private handleCalendarBlur = (event) => {\n        this.changeFocused({ isCalendarFocused: false }, event);\n    };\n\n    private handleCalendarKeyDown = (event) => {\n        switch (event.which) {\n        case keyboardCode.ESCAPE:\n            event.preventDefault();\n            this.customCalendarTarget.focus();\n            break;\n        case keyboardCode.ENTER:\n        case keyboardCode.SPACE:\n            event.preventDefault();\n            this.setState({\n                opened: false,\n            });\n            break;\n        }\n\n        if (this.props.onCalendarKeyDown) {\n            this.props.onCalendarKeyDown(event);\n        }\n\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(event);\n        }\n    };\n\n    private handleIconButtonClick = () => {\n        this.customCalendarTarget.focus();\n    };\n\n    private handleCustomInputChange = (value) => {\n        const month = calculateMonth(\n            value,\n            CUSTOM_DATE_FORMAT,\n            this.props.calendar ? this.props.calendar.earlierLimit : undefined,\n            this.props.calendar ? this.props.calendar.laterLimit : undefined,\n        );\n\n        this.setState({ value });\n\n        // Изменяет месяц в календаре в соответствии с введёной в поле валидной датой\n        if (value && value.length === CUSTOM_DATE_FORMAT.length && month !== this.state.month) {\n            this.setState({ month });\n        }\n\n        if (this.props.onInputChange) {\n            this.props.onInputChange(value);\n        }\n\n        if (this.props.onChange) {\n            this.props.onChange(value, parseDate(value, CUSTOM_DATE_FORMAT));\n        }\n    };\n\n    private handleNativeInputChange = (event) => {\n        let value = changeDateFormat(event.target.value, NATIVE_DATE_FORMAT, CUSTOM_DATE_FORMAT);\n\n        // Детектим нажатие `сlear` в нативном календаре\n        if (this.state.value === value) {\n            value = '';\n        }\n\n        this.setState({ value });\n\n        if (this.props.onInputChange) {\n            this.props.onInputChange(value);\n        }\n\n        if (this.props.onChange) {\n            this.props.onChange(value, parseDate(value, CUSTOM_DATE_FORMAT));\n        }\n    };\n\n    private handleCustomInputFocus = (event) => {\n        this.changeFocused({ isInputFocused: true }, event);\n\n        if (this.props.onInputFocus) {\n            this.props.onInputFocus(event);\n        }\n    };\n\n    private handleNativeInputFocus = (event) => {\n        // Копируем пришедший из аргументов SyntheticEvent для дальнейшего редактирования\n        const resultEvent = {\n            ...event,\n            // Трансформируем нативную YYYY-MM-DD дату в кастомный формат на вывод в коллбэках\n            target: { value: changeDateFormat(event.target.value, NATIVE_DATE_FORMAT, CUSTOM_DATE_FORMAT) },\n        };\n\n        this.changeFocused({ isInputFocused: true }, resultEvent);\n\n        if (this.props.onInputFocus) {\n            this.props.onInputFocus(resultEvent);\n        }\n    };\n\n    private handleCustomInputBlur = (event) => {\n        this.changeFocused({ isInputFocused: false }, event);\n\n        if (this.props.onInputBlur) {\n            this.props.onInputBlur(event);\n        }\n    };\n\n    private handleNativeInputBlur = (event) => {\n        // Копируем пришедший из аргументов SyntheticEvent для дальнейшего редактирования\n        const resultEvent = {\n            ...event,\n            // Трансформируем нативную YYYY-MM-DD дату в кастомный формат на вывод в коллбэках\n            target: { value: changeDateFormat(event.target.value, NATIVE_DATE_FORMAT, CUSTOM_DATE_FORMAT) },\n        };\n\n        this.changeFocused({ isInputFocused: false }, resultEvent);\n\n        if (this.props.onInputBlur) {\n            this.props.onInputBlur(resultEvent);\n        }\n    };\n\n    private handleInputKeyDown = (event) => {\n        switch (event.which) {\n        case keyboardCode.DOWN_ARROW: {\n            event.preventDefault();\n\n            const value = this.props.value === undefined ? this.state.value : this.props.value;\n\n            this.setState({\n                opened: true,\n                month: calculateMonth(\n                    value,\n                    CUSTOM_DATE_FORMAT,\n                    this.props.calendar ? this.props.calendar.earlierLimit : undefined,\n                    this.props.calendar ? this.props.calendar.laterLimit : undefined,\n                ),\n            });\n\n            this.calendar.focus();\n\n            break;\n        }\n        case keyboardCode.ESCAPE: {\n            event.preventDefault();\n\n            this.setState({\n                opened: false,\n            });\n\n            break;\n        }\n        }\n\n        if (this.props.onInputKeyDown) {\n            this.props.onInputKeyDown(event);\n        }\n\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(event);\n        }\n    };\n\n    private handleMqMatchChange = (isMatched) => {\n        this.setState({\n            isMobile: isMatched,\n        });\n    };\n\n    private handleMobileWrapperClick = () => {\n        this.setOpened(true);\n    };\n\n    private handlePopupCloserClick = () => {\n        this.setOpened(false);\n    };\n\n    /**\n     * Устанавливает фокус на поле ввода, открывает календарь.\n     */\n    public focus() {\n        const targetRef = this.nativeCalendarTarget || this.customCalendarTarget;\n\n        targetRef.focus();\n    }\n\n    /**\n     * Убирает фокус с поля ввода.\n     */\n    public blur() {\n        const targetRef = this.nativeCalendarTarget || this.customCalendarTarget;\n\n        targetRef.blur();\n    }\n\n    /**\n     * Скроллит страницу до поля ввода.\n     */\n    public scrollTo() {\n        this.customCalendarTarget.scrollTo();\n    }\n\n    private canBeNative() {\n        return SUPPORTS_INPUT_TYPE_DATE && this.props.mobileMode === 'native';\n    }\n\n    private isNativeInput() {\n        return this.state.isMobile && this.canBeNative();\n    }\n\n    private isMobilePopup() {\n        return this.state.isMobile && this.props.mobileMode === 'popup';\n    }\n\n    private isSimpleInput() {\n        return this.state.isMobile && this.props.mobileMode === 'input';\n    }\n\n    private changeFocused(focusedState, event) {\n        const newState = {\n            isInputFocused: this.state.isInputFocused,\n            isCalendarFocused: this.state.isCalendarFocused,\n            ...focusedState,\n        };\n\n        // При переключении фокуса с поля ввода на календарь событие `blur` у поля ввода иногда происходит перед фокусом календаря\n        // Поэтому проверяем элемент который получит фокус после блюра и если он внутри календаря - оставляем сфокусированное состояние.\n        const relatedTarget = event.relatedTarget // не поддерживается в FF и IE10 https://github.com/facebook/react/issues/2011\n            || event.explicitOriginalTarget // не поддерживается в IE\n            || document.activeElement; // В IE вернет не <calendar> а конкретную ноду, на которую пришел фокус\n\n        const calendarWillReceiveFocus = !isNodeOutsideElement(relatedTarget, this.calendar.getNode());\n\n        const newFocused = newState.isInputFocused\n            || newState.isCalendarFocused\n            || calendarWillReceiveFocus;\n\n        this.setState(focusedState);\n\n        let newOpened = false;\n\n        if (newFocused) {\n            if (this.props.onFocus) {\n                this.props.onFocus(event);\n            }\n\n            newOpened = true;\n        } else if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n\n        if (!this.isNativeInput()) {\n            this.setOpened(newOpened);\n        }\n    }\n\n    private setOpened(opened) {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n        this.timeoutId = setTimeout(() => {\n            const value = this.props.value === undefined ? this.state.value : this.props.value;\n\n            // eslint-disable-next-line react/no-access-state-in-setstate\n            const newMonth = this.state.opened === opened\n                // eslint-disable-next-line react/no-access-state-in-setstate\n                ? this.state.month\n                : calculateMonth(\n                    value || this.props.defaultMonth,\n                    CUSTOM_DATE_FORMAT,\n                    this.props.calendar ? this.props.calendar.earlierLimit : undefined,\n                    this.props.calendar ? this.props.calendar.laterLimit : undefined,\n                );\n\n            this.setState({\n                opened,\n                month: newMonth,\n            });\n\n            this.timeoutId = null;\n        }, 0);\n    }\n}\n\nexport default withTheme<CalendarInputProps, CalendarInput>(CalendarInput);\n"]}