{"version":3,"sources":["amount/amount.tsx"],"names":[],"mappings":"AAIA,OAAO,KAAK,MAAM,OAAO,CAAC;AAe1B,oBAAY,WAAW,GAAG;IACtB,MAAM,EAAE;QAEJ;;WAEG;QACH,KAAK,EAAE,MAAM,CAAC;QAEd;;WAEG;QACH,QAAQ,EAAE;YAEN;;eAEG;YACH,IAAI,EAAE,MAAM,CAAC;YAEb;;eAEG;YACH,QAAQ,EAAE,MAAM,CAAC;SACpB,CAAC;KACL,CAAC;IAEF;;OAEG;IACH,iBAAiB,CAAC,EAAE,OAAO,CAAC;IAE5B;;OAEG;IACH,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;IAE9B;;OAEG;IACH,IAAI,CAAC,EAAE,OAAO,CAAC;IAEf;;OAEG;IACH,SAAS,CAAC,EAAE,OAAO,CAAC;IAEpB;;OAEG;IACH,KAAK,CAAC,EAAE,eAAe,GAAG,eAAe,CAAC;IAE1C;;OAEG;IACH,SAAS,CAAC,EAAE,MAAM,CAAC;IAEnB;;OAEG;IACH,EAAE,CAAC,EAAE,MAAM,CAAC;IAEZ;;OAEG;IACH,cAAc,CAAC,EAAE,MAAM,CAAC;CAC3B,CAAC;AAEF;;;GAGG;AACH,qBACa,MAAO,SAAQ,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;IACpD,SAAS,CAAC,EAAE;;;;;;iBAAsB;IAElC,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,WAAW,CAAC,CAKvC;IAEF,MAAM;IA2BN,OAAO,CAAC,2BAA2B;IA2BnC,OAAO,CAAC,oBAAoB;CAQ/B;;AAED,wBAAsD","file":"amount.d.ts","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport React from 'react';\nimport { createCn } from 'bem-react-classname';\nimport { withTheme } from '../cn';\nimport Heading from '../heading/heading';\nimport Label from '../label/label';\nimport performance from '../performance';\n\nimport {\n    formatAmount,\n    THINSP,\n    AMOUNT_MAJOR_MINOR_PARTS_SEPARATOR,\n} from '../lib/format-amount';\n\nconst ZERO_MINOR_PART_REGEXP = /^0+$/;\n\nexport type AmountProps = {\n    amount: {\n\n        /**\n         * Абсолютное значение суммы\n         */\n        value: number;\n\n        /**\n         * Валюта\n         */\n        currency: {\n\n            /**\n             * Международный код валюты\n             */\n            code: string;\n\n            /**\n             * Количество минорных единиц валюты\n             */\n            minority: number;\n        };\n    };\n\n    /**\n     * Отображение минорной части, если она нулевая\n     */\n    showZeroMinorPart?: boolean;\n\n    /**\n     * Размер компонента\n     */\n    size?: 's' | 'm' | 'l' | 'xl';\n\n    /**\n     * Толщина шрифта\n     */\n    bold?: boolean;\n\n    /**\n     * Использовать компонент `Heading` для вывода числа\n     */\n    isHeading?: boolean;\n\n    /**\n     * Тема компонента\n     */\n    theme?: 'alfa-on-color' | 'alfa-on-white';\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n\n    /**\n     * Идентификатор компонента в DOM\n     */\n    id?: string;\n\n    /**\n     * Идентификатор для систем автоматизированного тестирования\n     */\n    'data-test-id'?: string;\n};\n\n/**\n * Компонент для отображения суммы, согласно следующему гайдлайну:\n * https://design.alfabank.ru/patterns/amount\n */\n@performance(true)\nexport class Amount extends React.Component<AmountProps> {\n    protected cn = createCn('amount');\n\n    static defaultProps: Partial<AmountProps> = {\n        size: 'm',\n        showZeroMinorPart: true,\n        bold: false,\n        isHeading: false,\n    };\n\n    render() {\n        const { amount, size } = this.props;\n        const { majorPart, minorPart, currencySymbol } = formatAmount(amount);\n\n        const amountInner = (\n            <React.Fragment>\n                <span className={ this.cn('major') }>{ majorPart }</span>\n                { this.renderSeparatorAndMinorPart(minorPart) }\n                { this.renderCurrencySymbol(currencySymbol) }\n            </React.Fragment>\n        );\n\n        return (\n            <div\n                className={ this.cn({ bold: this.props.bold }) }\n                id={ this.props.id }\n                data-test-id={ this.props['data-test-id'] }\n            >\n                { this.props.isHeading ? (\n                    <Heading size={ size }>{ amountInner }</Heading>\n                ) : (\n                    <Label size={ size }>{ amountInner }</Label>\n                ) }\n            </div>\n        );\n    }\n\n    private renderSeparatorAndMinorPart(minorPart) {\n        const { showZeroMinorPart } = this.props;\n\n        let needMinorPart = false;\n\n        if (minorPart) {\n            needMinorPart = true;\n\n            if (!showZeroMinorPart && ZERO_MINOR_PART_REGEXP.test(minorPart)) {\n                needMinorPart = false;\n            }\n        }\n\n        if (needMinorPart) {\n            return (\n                <React.Fragment>\n                    <span className={ this.cn('separator') }>\n                        { AMOUNT_MAJOR_MINOR_PARTS_SEPARATOR }\n                    </span>\n                    <span className={ this.cn('minor') }>{ minorPart }</span>\n                </React.Fragment>\n            );\n        }\n\n        return null;\n    }\n\n    private renderCurrencySymbol(currencySymbol) {\n        return (\n            <span className={ this.cn('currency') }>\n                { THINSP }\n                { currencySymbol }\n            </span>\n        );\n    }\n}\n\nexport default withTheme<AmountProps, Amount>(Amount);\n"]}