{"version":3,"sources":["input-autocomplete/input-autocomplete.tsx"],"names":[],"mappings":"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","file":"input-autocomplete.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n// @ts-nocheck\n\n/* eslint react/prop-types: 0 */\n\nimport React from 'react';\nimport { createCn } from 'bem-react-classname';\nimport { withTheme } from '../cn';\nimport { FormatCharacters } from '../masked-input/mask';\n\nimport Menu from '../menu/menu';\nimport Popup from '../popup/popup';\nimport { ResizeSensor } from '../resize-sensor/resize-sensor';\n\nimport keyboardCode from '../lib/keyboard-code';\nimport performance from '../performance';\nimport scrollTo from '../lib/scroll-to';\nimport { SCROLL_TO_NORMAL_DURATION } from '../vars';\n\nimport { MenuItem } from '../menu-item/menu-item';\nimport Input, { InputProps } from '../input/input';\n\nexport type InputAutocompleteProps = InputProps & {\n\n    /**\n     * Тип поля.\n     * Внимание, тип 'number' не умеет работать с масками, в том числе с 'selectionStart' и 'selectionEnd'.\n     * Подробнее: <a href=\"http://w3c.github.io/html/sec-forms.html#does-not-apply\" target=\"_blank\">http://w3c.github.io/html/sec-forms.html#does-not-apply</a>\n     */\n    type?: 'number' | 'card' | 'email' | 'file' | 'hidden' | 'money' | 'password' | 'tel' | 'text';\n\n    /**\n     * Тип инпута (filled только на белом фоне в размере m)\n     */\n    view?: 'default' | 'filled';\n\n    /**\n     * Управление возможностью компонента занимать всю ширину родителя\n     */\n    width?: 'default' | 'available';\n\n    /**\n     * Управление автозаполнением компонента. В случае передачи `true` или `false` подставляет `on` или `off`.\n     * Строка подставляется как есть.\n     */\n    autocomplete?: boolean | string;\n\n    /**\n     * Управление возможностью изменения атрибута компонента, установка\n     * соответствующего класса-модификатора для оформления\n     */\n    disabled?: boolean;\n\n    /**\n     * Управление возможностью изменения атрибута компонента (без установки класса-модификатора для оформления)\n     */\n    disabledAttr?: boolean;\n\n    /**\n     * Управление возможностью изменения класса-модификатора компонента\n     */\n    focused?: boolean;\n\n    /**\n     * Максимальное число символов\n     */\n    maxLength?: number;\n\n    /**\n     * Иконка компонента\n     */\n    icon?: React.ReactNode;\n\n    /**\n     * Управление наличием крестика, сбрасывающего значение 'value'\n     */\n    clear?: boolean;\n\n    /**\n     * Уникальный идентификатор блока\n     */\n    id?: string;\n\n    /**\n     * Уникальное имя блока\n     */\n    name?: string;\n\n    /**\n     * Содержимое поля ввода\n     */\n    value?: string;\n\n    /**\n     * Содержимое поля ввода, указанное по умолчанию\n     */\n    defaultValue?: string;\n\n    /**\n     * Последовательность перехода между контролами при нажатии на Tab\n     */\n    tabIndex?: number;\n\n    /**\n     * Определяет маску для ввода значений. <a href=\"https://github.com/insin/inputmask-core#pattern\" target=\"_blank\">Шаблон маски</a>\n     */\n    mask?: string;\n\n    /**\n     * Позволяет использовать пробелы в маске\n     */\n    useWhitespacesInMask?: boolean;\n\n    /**\n     * Кастомные форматтеры символов маски, использует формат formatCharacters из `inputmask-core`\n     */\n    maskFormatCharacters?: FormatCharacters;\n\n    /**\n     * Стандартное ствойство HTMLInputElement 'pattern'. Может быть использовано для показа корректной клавиатуры на мобильных устройствах.\n     */\n    pattern?: string;\n\n    /**\n     * Управление встроенной проверкой данных введённых пользователем в поле на корректность\n     */\n    formNoValidate?: boolean;\n\n    /**\n     * Добавление дополнительных элементов к инпуту слева\n     */\n    leftAddons?: React.ReactNode;\n\n    /**\n     * Добавление дополнительных элементов к инпуту справа\n     */\n    rightAddons?: React.ReactNode;\n\n    /**\n     * Лейбл для поля\n     */\n    label?: React.ReactNode;\n\n    /**\n     * Подсказка в поле\n     */\n    placeholder?: string;\n\n    /**\n     * Подсказка под полем\n     */\n    hint?: React.ReactNode;\n\n    /**\n     * Отображение ошибки\n     */\n    error?: React.ReactNode;\n\n    /**\n     * Сброс ошибки при установке фокуса\n     */\n    resetError?: boolean;\n\n    /**\n     * Размер компонента\n     */\n    size?: 's' | 'm' | 'l' | 'xl';\n\n    /**\n     * Тема компонента\n     */\n    theme?: 'alfa-on-color' | 'alfa-on-white';\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n\n    /**\n     * Тултип, который появляется при наведении\n     */\n    title?: string;\n\n    /**\n     * Обработчик изменения значения 'value'\n     */\n    onChange?: (value?: string) => void;\n\n    /**\n     * Обработчик фокуса поля\n     */\n    onFocus?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик клика по полю\n     */\n    onClick?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Обработчик снятия фокуса с поля\n     */\n    onBlur?: (event?: React.FocusEvent<any>) => void;\n\n    /**\n     * Обработчик клика по крестику сбрасываещему значение 'value'\n     */\n    onClearClick?: (event?: React.MouseEvent<any>) => void;\n\n    /**\n     * Обработчик события нажатия на клавишу клавиатуры в момент, когда фокус находится на компоненте\n     */\n    onKeyDown?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик события отжатия на клавишу клавиатуры в момент, когда фокус находится на компоненте\n     */\n    onKeyUp?: (event?: React.KeyboardEvent<any>) => void;\n\n    /**\n     * Обработчик события вставки текста в поле\n     */\n    onPaste?: (event?: React.ClipboardEvent<any>) => void;\n\n    /**\n     * Обработчик события касания по полю\n     */\n    onTouchStart?: (event?: React.TouchEvent<any>) => void;\n\n    /**\n     * Обработчик события прекращения касания по полю\n     */\n    onTouchEnd?: (event?: React.TouchEvent<any>) => void;\n\n    /**\n     * Обработчик события перемещения при касании по полю\n     */\n    onTouchMove?: (event?: React.TouchEvent<any>) => void;\n\n    /**\n     * Обработчик события прерывания касания по полю\n     */\n    onTouchCancel?: (event?: React.TouchEvent<any>) => void;\n\n    /**\n     * Обработчик, вызываемый перед началом ввода в маскированное поле\n     */\n    onProcessMaskInputEvent?: (event?: React.ChangeEvent<any>) => void;\n\n    /**\n     * Идентификатор для систем автоматизированного тестирования\n     */\n    'data-test-id'?: string;\n\n    /**\n     * Список вариантов выбора\n     */\n    options?: ReadonlyArray<{\n\n        /**\n         * Тип списка вариантов\n         */\n        type?: 'item' | 'group';\n\n        /**\n         * Уникальное значение, которое будет отправлено на сервер, если вариант выбран\n         */\n        value?: string;\n\n        /**\n         * Отображение варианта\n         */\n        description?: React.ReactNode;\n\n        /**\n         * Текст, который должен быть записан в текстовое поле при выборе варианта\n         */\n        text?: string;\n\n        /**\n         * Список вариантов, только для type='group'\n         */\n        content?: any[];\n\n        /**\n         * Только для type='item': свойства для компонента [MenuItem](#!/MenuItem)\n         */\n        props?: object;\n    }>;\n\n    /**\n     * Управление видимостью выпадающего списка\n     */\n    opened?: boolean;\n\n    /**\n     * Ширинa выпадающего списка равна ширине инпута\n     */\n    equalPopupWidth?: boolean;\n\n    /**\n     * Определяет нужно или нет обновлять значение текстового поля при выборе варианта\n     */\n    updateValueOnItemSelect?: boolean;\n\n    /**\n     * Направления, в которые может открываться попап компонента\n     */\n    directions?: ReadonlyArray<'top-left' | 'top-center' | 'top-right' | 'left-top' | 'left-center' | 'left-bottom' | 'right-top' | 'right-center' | 'right-bottom' | 'bottom-left' | 'bottom-center' | 'bottom-right'>;\n\n    /**\n     * Вставляет попап со списком только если элемент активен\n     */\n    renderPopupOnFocus?: boolean;\n\n    /**\n     * Обработчик выбора пункта в выпадающем меню\n     */\n    onItemSelect?: (checkedItem?: any) => void;\n\n    /**\n     * Закрытие выпадающего списка в случае, если произошел выбор элемента\n     */\n    closeOnSelect?: boolean;\n\n    /**\n     * Максимальная высота выпадающего списка опций\n     */\n    popupMaxHeight?: number;\n\n    /**\n     * Название класса попапа с опциями\n     */\n    popupClassName?: string;\n};\n\ntype InputAutocompleteState = {\n    value: string;\n    inputFocused: boolean;\n    menuFocused: boolean;\n    popupStyles: React.CSSProperties;\n    highlightedItem: MenuItem | null;\n}\n\n/**\n * Компонент поля для ввода с автокомплитом.\n *\n * @extends Input\n */\n@performance(true)\nexport class InputAutocomplete extends React.Component<InputAutocompleteProps, InputAutocompleteState> {\n    protected cn = createCn('input');\n\n    static defaultProps: Partial<InputAutocompleteProps> = {\n        disabled: false,\n        size: 'm',\n        width: 'default',\n        options: [],\n        updateValueOnItemSelect: true,\n        directions: ['bottom-left', 'bottom-right', 'top-left', 'top-right'],\n        equalPopupWidth: false,\n        closeOnSelect: false,\n        renderPopupOnFocus: false,\n    };\n\n    state = {\n        value: this.props.defaultValue || '',\n        inputFocused: false,\n        menuFocused: false,\n        popupStyles: {},\n        highlightedItem: null,\n    };\n\n    private input: Input;\n\n    private popup: Popup;\n\n    private menu: Menu;\n\n    private blurTimeout: ReturnType<typeof setTimeout> = null;\n\n    private inputFocusTimeout: ReturnType<typeof setTimeout> = null;\n\n    componentDidMount() {\n        this.updatePopupTarget();\n        this.updatePopupStyles();\n    }\n\n    componentDidUpdate() {\n        this.updatePopupTarget();\n        this.updatePopupStyles();\n    }\n\n    componentWillUnmount() {\n        if (this.blurTimeout) {\n            clearTimeout(this.blurTimeout);\n            this.blurTimeout = null;\n        }\n\n        if (this.inputBlurTimeout) {\n            clearTimeout(this.inputBlurTimeout);\n            this.inputBlurTimeout = null;\n        }\n\n        if (this.inputFocusTimeout) {\n            clearTimeout(this.inputFocusTimeout);\n            this.inputFocusTimeout = null;\n        }\n    }\n\n    render() {\n        const value = this.props.value === undefined ? this.state.value : this.props.value;\n\n        const props = {\n            ...this.props,\n            ref: (input) => {\n                this.input = input;\n            },\n            className: this.cn({\n                focused: this.state.inputFocused || this.state.menuFocused,\n                'has-autocomplete': true,\n            }),\n            autocomplete: this.props.autocomplete || false,\n            value,\n            onChange: this.handleChange,\n            onFocus: this.handleInputFocus,\n            onBlur: this.handleInputBlur,\n            onKeyDown: this.handleKeyDown,\n        };\n\n        return (\n            <div\n                className={ this.cn('autocomplete-case', { width: this.props.width }) }\n                data-test-id={ this.props['data-test-id'] }\n            >\n                <Input { ...props } />\n                { this.renderPopup() }\n            </div>\n        );\n    }\n\n    private renderPopup() {\n        const formattedOptionsList = this.props.options\n            ? this.formatOptionsList(this.props.options)\n            : [];\n\n        const opened = this.props.opened === undefined\n            ? (this.state.inputFocused || this.state.menuFocused)\n            : this.props.opened;\n\n        if (this.props.options.length === 0) {\n            this.popup = null;\n\n            return null;\n        }\n\n        if (this.props.renderPopupOnFocus && !opened) {\n            return null;\n        }\n\n        return [\n            <ResizeSensor onResize={ this.updatePopupStyles } key=\"popup-sensor\" />,\n            <Popup\n                className={ this.cn('popup', { custom: this.props.popupClassName }) }\n                size={ this.props.size }\n                ref={ (popup) => {\n                    this.popup = popup;\n                } }\n                for={ this.props.name }\n                visible={ opened }\n                onClickOutside={ this.handleClickOutside }\n                target=\"anchor\"\n                directions={ this.props.directions }\n                height={ this.props.popupMaxHeight ? 'default' : 'adaptive' }\n                padded={ false }\n                minWidth={ this.state.popupStyles.minWidth }\n                maxWidth={ this.state.popupStyles.maxWidth }\n                key=\"popup\"\n                maxHeight={ this.props.popupMaxHeight }\n            >\n                <Menu\n                    ref={ (menu) => {\n                        this.menu = menu;\n                    } }\n                    className={ this.cn('menu') }\n                    size={ this.props.size }\n                    mode=\"radio-check\"\n                    content={ formattedOptionsList }\n                    checkedItems={ [] }\n                    onItemCheck={ this.handleItemCheck }\n                    autoFocusFirstItem={ true }\n                    highlightedItem={ this.state.highlightedItem }\n                    onHighlightItem={ this.handleHighlightedItem }\n                    onFocus={ this.handleMenuFocus }\n                    onBlur={ this.handleMenuBlur }\n                    onKeyDown={ this.handleMenuKeyDown }\n                />\n            </Popup>,\n        ];\n    }\n\n    private handleItemCheck = (checkedItemsValues, event) => {\n        const checkedItemValue = checkedItemsValues.length ? checkedItemsValues[0] : this.state.checkedItemValue;\n        const checkedItem = this.getCheckedOption(this.props.options, checkedItemValue);\n\n        const newValue = checkedItem\n            ? (checkedItem.text || checkedItem.value)\n            : this.state.value;\n\n        if (this.props.onItemSelect) {\n            this.props.onItemSelect(checkedItem);\n        }\n\n        if (this.props.updateValueOnItemSelect) {\n            this.setState({ value: newValue });\n\n            if (this.props.onChange) {\n                this.props.onChange(newValue, event);\n            }\n        }\n\n        if (this.inputFocusTimeout) {\n            clearTimeout(this.inputFocusTimeout);\n        }\n\n        if (this.inputBlurTimeout) {\n            clearTimeout(this.inputBlurTimeout);\n        }\n\n        if (this.props.closeOnSelect) {\n            this.inputBlurTimeout = setTimeout(() => this.input.blur(), 0);\n        } else {\n            this.inputFocusTimeout = setTimeout(() => {\n                this.input.focus();\n                this.input.setSelectionRange(newValue.length);\n            }, 0);\n        }\n    };\n\n    private handleChange = (value, event) => {\n        this.setState({ value });\n\n        if (this.props.onChange) {\n            this.props.onChange(value, event);\n        }\n    };\n\n    private handleInputFocus = (event) => {\n        if (this.blurTimeout) {\n            clearTimeout(this.blurTimeout);\n            this.blurTimeout = null;\n        }\n\n        this.solveFocused(event);\n\n        this.setState({\n            highlightedItem: null,\n        });\n    };\n\n    private handleInputBlur = (event) => {\n        if (this.blurTimeout) {\n            clearTimeout(this.blurTimeout);\n        }\n\n        event.persist();\n\n        this.blurTimeout = setTimeout(() => {\n            this.solveFocused(event);\n            this.blurTimeout = null;\n        }, 0);\n    };\n\n    private handleMenuFocus = (event) => {\n        if (this.blurTimeout) {\n            clearTimeout(this.blurTimeout);\n            this.blurTimeout = null;\n        }\n\n        this.solveFocused(event);\n    };\n\n    private handleMenuBlur = (event) => {\n        if (this.blurTimeout) {\n            clearTimeout(this.blurTimeout);\n        }\n\n        event.persist();\n\n        this.blurTimeout = setTimeout(() => {\n            this.solveFocused(event);\n            this.blurTimeout = null;\n        }, 0);\n    };\n\n    private handleClickOutside = () => {\n        if (this.props.onClickOutside) {\n            this.props.onClickOutside();\n        }\n    };\n\n    private handleKeyDown = (event) => {\n        switch (event.which) {\n        case keyboardCode.DOWN_ARROW: {\n            event.preventDefault();\n\n            const posX = window.pageXOffset;\n            const posY = window.pageYOffset;\n\n            if (this.menu) {\n                this.menu.focus();\n            }\n\n            window.scrollTo(posX, posY);\n\n            break;\n        }\n\n        case keyboardCode.ESCAPE: {\n            this.input.blur();\n            break;\n        }\n        }\n\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(event);\n        }\n    };\n\n    private handleHighlightedItem = (highlightedItem) => {\n        this.setState({\n            highlightedItem,\n        });\n    };\n\n    private handleMenuKeyDown = (event, highlightedItem) => {\n        switch (event.which) {\n        case keyboardCode.DOWN_ARROW:\n        case keyboardCode.UP_ARROW:\n            event.preventDefault();\n            this.syncKeyboardNavigationWithScroll(highlightedItem);\n            break;\n\n        case keyboardCode.ESCAPE:\n            this.input.focus();\n            break;\n        }\n\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(event);\n        }\n    };\n\n    /**\n     * Устанавливает фокус на поле ввода.\n     */\n    public focus() {\n        this.input.focus();\n    }\n\n    /**\n     * Убирает фокус с поля ввода.\n     */\n    public blur() {\n        this.input.blur();\n    }\n\n    /**\n     * Скроллит страницу до поля ввода.\n     */\n    public scrollTo() {\n        this.input.scrollTo();\n    }\n\n    /**\n     * Определяет является ли весь компонент в фокусе на событиях onFocus/onBlur.\n     *\n     * @param event Событие focus/blur, которое будет проброшено в обработчик onFocus/onBlur\n     */\n    private solveFocused(event: React.SyntheticEvent) {\n        const currentFocused = this.state.inputFocused || this.state.menuFocused;\n\n        const focusedElement = document.activeElement;\n\n        const newState = {\n            inputFocused: (focusedElement === this.input.getControl()),\n            menuFocused: this.menu\n                ? (this.menu.getNode() === focusedElement || this.menu.getNode().contains(focusedElement))\n                : false,\n        };\n\n        const newFocused = newState.inputFocused || newState.menuFocused;\n\n        if (currentFocused !== newFocused) {\n            if (newFocused) {\n                if (this.props.onFocus) {\n                    this.props.onFocus(event);\n                }\n            } else if (this.props.onBlur) {\n                this.props.onBlur(event);\n            }\n        }\n\n        this.setState(newState);\n    }\n\n    private formatOptionsList(options) {\n        return (\n            options.map((option) => {\n                if (option.type === 'group' && !!option.content) {\n                    const content = this.formatOptionsList(option.content);\n\n                    return ({\n                        type: 'group',\n                        title: option.title,\n                        content,\n                    });\n                }\n\n                return ({\n                    key: option.key || option.value,\n                    value: option.value,\n                    content: option.description || option.value,\n                    props: option.props,\n                });\n            })\n        );\n    }\n\n    private getCheckedOption(options, value) {\n        let result = null;\n\n        options.find((option) => {\n            if (option.type === 'group' && !!option.content) {\n                const findInGroup = this.getCheckedOption(option.content, value);\n\n                if (findInGroup) {\n                    result = findInGroup;\n\n                    return true;\n                }\n            } else if (option.value === value) {\n                result = option;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        return result;\n    }\n\n    private updatePopupStyles = () => {\n        const input = this.input.getNode();\n        const inputWidth = input.getBoundingClientRect().width;\n        const popupStyles = { minWidth: inputWidth };\n\n        if (this.props.equalPopupWidth) {\n            popupStyles.maxWidth = inputWidth;\n        }\n\n        this.setState({\n            popupStyles,\n        });\n    };\n\n    private updatePopupTarget() {\n        if (this.popup) {\n            this.popup.setTarget(this.input.getBoxNode());\n        }\n    }\n\n    /**\n     * @param highlightedItem Выбранный пункт меню\n     */\n    private syncKeyboardNavigationWithScroll(highlightedItem: MenuItem) {\n        const element = highlightedItem.getNode();\n        const container = this.popup.getInnerNode();\n        const correction = element.offsetHeight;\n\n        if (element.offsetTop + correction > container.scrollTop + container.offsetHeight) {\n            scrollTo({\n                container,\n                targetY: element.offsetTop,\n                duration: SCROLL_TO_NORMAL_DURATION,\n            });\n        } else if (element.offsetTop < container.scrollTop) {\n            scrollTo({\n                container,\n                targetY: (element.offsetTop - container.offsetHeight) + correction,\n                duration: SCROLL_TO_NORMAL_DURATION,\n            });\n        }\n    }\n}\n\nexport default withTheme<InputAutocompleteProps, InputAutocomplete>(InputAutocomplete);\n"]}